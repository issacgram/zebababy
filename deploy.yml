deploy:
  server:
    host: "89.116.48.146"
    username: "deployuser"
    path: "/usr/local/lsws/Example/html"
    branch: "main"
    repo: "https://github.com/issacgram/depapp.git"
  steps:
    init:
      command: "[ -d .git ] || git clone ${repo} ."
      description: "Initializing repository"
      status: true
      icon: "ğŸŒ±"
    pull_changes:
      command: "git pull origin ${branch}"
      description: "Pulling latest changes"
      status: true
      icon: "ğŸ”„"
    install_dependencies:
      command: "composer install --no-dev --optimize-autoloader"
      description: "Installing dependencies"
      status: true
      icon: "ğŸ“¦"
    run_migrations:
      command: "php artisan migrate --force"
      description: "Running database migrations"
      status: false
      icon: "ğŸ› ï¸"
    cache_config:
      command: |
        php artisan config:cache
        php artisan route:cache
        php artisan view:cache
      description: "Caching configurations"
      status: true
      icon: "ğŸ’¾"
    restart_services:
      command: "sudo systemctl restart php-fpm"
      description: "Restarting services"
      status: true
      icon: "ğŸ”„"